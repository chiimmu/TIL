# 01 HTTPメッセージ
---
- Webブラウザからの要求である**HTTPリクエスト**
- Webサーバーからの応答である**HTTPレスポンス**
---
## HTTPリクエスト
---
- 「リクエスト行」「メッセージヘッダー」「メッセージボディ」の三つに分けることができる
---
## HTTPレスポンス
---
- 「ステータス行」メッセージヘッダー」「メッセージボディ」の三つに分けることができる
---
# 03 HTTPメソッド
---
## GETとPOSTの違い
---
- HTMLファイルなどのコンテンツを取得したい場合は**GET**を利用する、この場合Webブラウザの閲覧履歴が残る
- データをWebサーバーに対して送信する場合は**POST**を利用する、この場合メッセージボディー内にデータが組み込まれるため、閲覧履歴には残らない
- ユーザーIDやパスワードといったデータをWebサーバー対して送る場合は、機密性を考慮しPOSTが利用される
---
### HEADメソッド
---
- HTTPヘッダー情報のみを取得するHTTPメソッド、データの更新日時やデータのサイズのみ取得したい場合に利用する
---
## 04 ステータスコード
---
- 100番台：リクエスト継続中を通知
- 200番台：リクエストが正常に受理されたことを通知する
- 300番台：HTTPリクエストに対して、転送処理やWebブラウザ側で追加の処理が必要ことを通知、URLが変更されている場合
- 400番台：クライアント（Webブラウザ）のエラー、リクエストされたHTMLファイルなどがサーバー上に存在しない場合<br>（例：404 Not Found）
- 500番台：エラーによって、リクエストに答えられない場合や、高負荷状態で一時的にWebコンテンツを転送できない場合など
---
＃ 06 TCPにおけるデータ送信
---
- TCPは信頼性のある通信を実現するためにデータ送信後、相手からの確認応答を受けっ取ってデータの送信完了を判断する
- TCPを用いてHTTPのデータのやり取りが行われている。これはクライアントと、サーバーがお互い通信可能なのかを確認し「コネクション」という通信経路を確立した上でデータのやり取りを行う（やり取りは3回行われる）
- クライアントから接続する際に**SYNパケット**と呼ばれるデータを送る
- 確認応答として帰ってくるのは**ACKパケット**である。またACKパケットを送信すると同時にクライアントに対して接続を要求するためにSYNパケットを送信します
- サーバーからの要求に対してクライアントはACKパケットを返す
---
# 07 HTTP/1.1のやりとり
---
- HTTPは機能追加と改良が重ねられている
- HTTP/1.1が最も普及し多く利用されてる
---
## HTTPキープアライブ
---
- HTTPリクエストごとにコネクションを確立するのは効率が悪いので、コネクションを継続して利用する形になった
---
## HTTPパイプライン
---
- HTTPレスポンスを待つことなく複数のHTTPリクエストを送信することを可能にする
---
# 08 HTTP/2のやりとり
---
## ストリームによる多重化
---
- HTTPパイプラインでは、リクエストの順番通りにレスポンスを返す決まりになっていたため、後半のレスポンスは順番を待つ必要があった
- ストリームと呼ばれる仮想的な通信経路を複数生成し、」個々のストリームは独立しており並行してリクエスト、レスポンスのやりとりが可能になったため待ち時間の短縮が可能になった
---
＃ 09 HTTP/2での改良点
---
- HTTP/1.1以前は、リクエスト、レスポンス、において全てのデータが一度に送信されていたが、HTTP／２ではフレームという単位に分解されバイナリ形式で送ることができる
- ヘッダー情報には重複したデータが多いため、
- 差分のみ転送する圧縮方式（HPACK）を利用することでデータの転送量を削減できる
---
## サーバープッシュ
- 通常はWebブラウザからのHTTPリクエストに応じてWebサーバーがコンテンツを転送する。HTTP/2ではHTTPリクエストを元にWebサーバー側で必要なファイルを判別して、リクエストなしに事前にサーバーから転送する
